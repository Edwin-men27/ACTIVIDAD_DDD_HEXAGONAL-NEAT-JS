Resumen del backend (NestJS + DDD + Hexagonal)

1) Capa de Dominio
- Ubicacion: src/domain/**.
- Empleo usa value objects y fabrica para crear/restaurar: src/domain/empleos/empleo.entity.ts
```
export class Empleo extends AggregateRoot {
  static create(nombre: Nombre, categoria: Categoria, areaTrabajo: AreaTrabajo, empresa: Empresa, nivel: Nivel, sueldo: Sueldo, funciones: Funciones, cargoJefe: CargoJefe): Empleo {
    return new Empleo(EmpleoId.new(), nombre, categoria, areaTrabajo, empresa, nivel, sueldo, funciones, cargoJefe, new Date(), null);
  }
}
```
- Value objects validan reglas, ej. sueldo no puede ser negativo: src/domain/empleos/value-objects/sueldo.vo.ts
```
if (value < 0) { throw new Error('El sueldo no puede ser negativo'); }
```
- Puerto de repositorio define contrato independiente de la persistencia: src/domain/empleos/empleo.repository.ts

2) Capa de Aplicacion (casos de uso)
- Ubicacion: src/application/**.
- Ejemplo listado de empleos: src/application/empleos/services/list-empleos.service.ts
```
let empleos = await this.empleoRepository.findAll();
if (query.searchTerm) { empleos = empleos.filter(...); }
return EmpleoMapper.toList(paged, total, query.page, query.pageSize);
```
- Casos de uso se exponen via interfaces (puertos de entrada) en src/application/empleos/ports/in/empleo.use-cases.ts y se inyectan en controladores.

3) Infraestructura - Entrada (REST + validacion + swagger)
- Controlador de empleos: src/infrastructure/entrypoints/empleos/empleos.controller.ts
```
@Get()
@ApiQuery({ name: 'searchTerm', required: false, type: String })
list(@Query('page') page = 1, @Query('pageSize') pageSize = 10, ... ) {
  const query = new ListEmpleosQuery();
  query.page = Number(page) || 1;
  return this.listUseCase.execute(query);
}
```
- DTO de creacion con ejemplos Swagger y validaciones: src/infrastructure/entrypoints/empleos/dto/create-empleo.request.ts
```
@ApiProperty({ example: 'Analista de Sistemas' })
@IsString() @IsNotEmpty() @MaxLength(100)
nombre!: string;
```
- Filtro global de excepciones devuelve mensajes claros de validacion: src/infrastructure/entrypoints/common/domain-exception.filter.ts
```
if (exception instanceof HttpException) {
  const payload = exception.getResponse();
  const message = typeof payload === 'string' ? payload : (payload as any).message;
  return response.status(status).json({ message });
}
```

4) Infraestructura - Salida (persistencia)
- Repositorio TypeORM que adapta el puerto de dominio: src/infrastructure/persistence/typeorm/repositories/empleo-typeorm.repository.ts
```
async save(empleo: Empleo): Promise<void> {
  await this.repo.save(this.toOrm(empleo));
}
```
- Entidad ORM alineada a la tabla existente `empleos`: src/infrastructure/persistence/typeorm/entities/empleo.orm-entity.ts
```
@Entity({ name: 'empleos' })
@Column({ name: 'area_trabajo', length: 100 })
areaTrabajo!: string;
@Column({ name: 'sueldo', type: 'numeric', precision: 18, scale: 2 })
sueldo!: number;
```
- Configuracion TypeORM: src/infrastructure/config/typeorm.config.ts (Postgres, synchronize false, entidades registradas).

5) Seguridad y usuarios
- JwtModule configurado con secretos y expiracion desde env: src/modules/users.module.ts
```
JwtModule.registerAsync({
  useFactory: (config) => ({ secret: config.get('JWT_SECRET'), signOptions: { expiresIn: `${expirationHours}h` } }),
})
```
- Guard de JWT y blacklist para logout: TokenBlacklistOrmEntity en src/infrastructure/persistence/typeorm/entities/token-blacklist.orm-entity.ts.
- Politica de password y hash bcrypt: adapters en src/infrastructure/security/*.ts.

6) Composicion de modulos
- AppModule registra configuracion y modulos de contexto: src/app.module.ts
```
imports: [ConfigModule.forRoot({ isGlobal: true }), TypeOrmModule.forRootAsync({...}), UsersModule, EmpleosModule]
```
- Cada modulo vincula puertos con implementaciones: src/modules/empleos.module.ts y src/modules/users.module.ts.

7) Bootstrap y API
- main.ts: prefijo /api, ValidationPipe global, Swagger en /api/docs, arranque en PORT.
- Rutas principales:
  - Empleos: /api/empleos (CRUD + filtros).
  - Usuarios/Auth: /api/users (login, logout, CRUD, reset/cambio password).

8) Tecnologias
- NestJS 11, TypeORM 0.3, Postgres, JWT, bcrypt, class-validator/transformer, Swagger UI, pnpm.

9) Consideraciones y mejoras rapidas
- ListEmpleosService filtra en memoria tras traer todos los registros; para volumen alto mover filtros/paginacion al repositorio (query SQL).
- Tests e2e para auth y CRUD serian el siguiente paso.
- Mantener .env con DATABASE_URL/JWT_SECRET; synchronize sigue en false para respetar esquema.
